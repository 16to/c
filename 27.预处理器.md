# 预处理器
## 指令
预处理器指令以 # 开头，常见的有：
- `#include`：包含头文件
- `#define`：定义宏
- `#undef`：取消宏定义
- `#ifdef`：如果宏已定义
- `#ifndef`：如果宏未定义
- `#if`：如果条件为真
- `#else`：否则
- `#elif`：否则如果
- `#endif`：结束条件编译
- `#error`：生成编译错误
- `#pragma`：编译器指令

## 宏定义
宏定义使用 `#define` 指令，可以定义常量和函数宏。
### 定义常量宏
```c
#define PI 3.14
#define MAX 100
```
### 定义函数宏
```c
#define SQUARE(x) ((x) * (x))
#define MAX(a, b) ((a) > (b) ? (a) : (b))
```

### 预定义宏
- `__FILE__`：当前文件名
- `__LINE__`：当前行号
- `__DATE__`：当前日期
- `__TIME__`：当前时间
- `__STDC__`：如果编译器符合ANSI标准，则定义为1

### 条件编译
条件编译允许根据条件包含或排除代码段。
```c
#ifdef DEBUG
    // 调试代码
#endif 
#ifndef RELEASE
    // 非发布代码
#endif
#if VERSION >= 2
    // 版本2及以上的代码
#else
    // 版本1的代码
#endif
```

### 文件包含
使用 `#include` 指令包含头文件。
```c
#include <stdio.h> // 系统头文件
#include "myheader.h" // 用户自定义头文件
```
### 宏取消定义
使用 `#undef` 指令取消宏定义。
```c
#undef PI
```

### 错误生成
使用 `#error` 指令生成编译错误。
```c
#ifndef CONFIG_H
#error "CONFIG_H is not defined"
#endif
```

### 编译器指令
使用 `#pragma` 指令向编译器发送特定指令。
```c
#pragma once // 防止头文件被多次包含
``` 